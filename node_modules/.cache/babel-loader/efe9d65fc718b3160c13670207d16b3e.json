{"ast":null,"code":"/* eslint-disable import/prefer-default-export */\nimport moment from 'moment';\nimport { isEmpty } from '../../../helpers/mixed';\nimport { DO_NOT_SWAP, FIRST_BEFORE_SECOND, FIRST_AFTER_SECOND } from '../sortService';\n/**\n * Date sorting compare function factory. Method get as parameters `sortOrder` and `columnMeta` and return compare function.\n *\n * @param {String} sortOrder Sort order (`asc` for ascending, `desc` for descending).\n * @param {Object} columnMeta Column meta object.\n * @param {Object} columnPluginSettings Plugin settings for the column.\n * @returns {Function} The compare function.\n */\n\nexport function compareFunctionFactory(sortOrder, columnMeta, columnPluginSettings) {\n  return function (value, nextValue) {\n    var sortEmptyCells = columnPluginSettings.sortEmptyCells;\n    if (value === nextValue) {\n      return DO_NOT_SWAP;\n    }\n    if (isEmpty(value)) {\n      if (isEmpty(nextValue)) {\n        return DO_NOT_SWAP;\n      } // Just fist value is empty and `sortEmptyCells` option was set\n\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n      }\n      return FIRST_AFTER_SECOND;\n    }\n    if (isEmpty(nextValue)) {\n      // Just second value is empty and `sortEmptyCells` option was set\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n      }\n      return FIRST_BEFORE_SECOND;\n    }\n    var dateFormat = columnMeta.dateFormat;\n    var firstDate = moment(value, dateFormat);\n    var nextDate = moment(nextValue, dateFormat);\n    if (!firstDate.isValid()) {\n      return FIRST_AFTER_SECOND;\n    }\n    if (!nextDate.isValid()) {\n      return FIRST_BEFORE_SECOND;\n    }\n    if (nextDate.isAfter(firstDate)) {\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n    }\n    if (nextDate.isBefore(firstDate)) {\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n    }\n    return DO_NOT_SWAP;\n  };\n}\nexport var COLUMN_DATA_TYPE = 'date';","map":{"version":3,"names":["moment","isEmpty","DO_NOT_SWAP","FIRST_BEFORE_SECOND","FIRST_AFTER_SECOND","compareFunctionFactory","sortOrder","columnMeta","columnPluginSettings","value","nextValue","sortEmptyCells","dateFormat","firstDate","nextDate","isValid","isAfter","isBefore","COLUMN_DATA_TYPE"],"sources":["C:/Users/mrezy/VSCode/internships-master/node_modules/handsontable/es/plugins/columnSorting/sortFunction/date.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport moment from 'moment';\nimport { isEmpty } from '../../../helpers/mixed';\nimport { DO_NOT_SWAP, FIRST_BEFORE_SECOND, FIRST_AFTER_SECOND } from '../sortService';\n/**\n * Date sorting compare function factory. Method get as parameters `sortOrder` and `columnMeta` and return compare function.\n *\n * @param {String} sortOrder Sort order (`asc` for ascending, `desc` for descending).\n * @param {Object} columnMeta Column meta object.\n * @param {Object} columnPluginSettings Plugin settings for the column.\n * @returns {Function} The compare function.\n */\n\nexport function compareFunctionFactory(sortOrder, columnMeta, columnPluginSettings) {\n  return function (value, nextValue) {\n    var sortEmptyCells = columnPluginSettings.sortEmptyCells;\n\n    if (value === nextValue) {\n      return DO_NOT_SWAP;\n    }\n\n    if (isEmpty(value)) {\n      if (isEmpty(nextValue)) {\n        return DO_NOT_SWAP;\n      } // Just fist value is empty and `sortEmptyCells` option was set\n\n\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n      }\n\n      return FIRST_AFTER_SECOND;\n    }\n\n    if (isEmpty(nextValue)) {\n      // Just second value is empty and `sortEmptyCells` option was set\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n      }\n\n      return FIRST_BEFORE_SECOND;\n    }\n\n    var dateFormat = columnMeta.dateFormat;\n    var firstDate = moment(value, dateFormat);\n    var nextDate = moment(nextValue, dateFormat);\n\n    if (!firstDate.isValid()) {\n      return FIRST_AFTER_SECOND;\n    }\n\n    if (!nextDate.isValid()) {\n      return FIRST_BEFORE_SECOND;\n    }\n\n    if (nextDate.isAfter(firstDate)) {\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n    }\n\n    if (nextDate.isBefore(firstDate)) {\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n    }\n\n    return DO_NOT_SWAP;\n  };\n}\nexport var COLUMN_DATA_TYPE = 'date';"],"mappings":"AAAA;AACA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,WAAW,EAAEC,mBAAmB,EAAEC,kBAAkB,QAAQ,gBAAgB;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,sBAAsB,CAACC,SAAS,EAAEC,UAAU,EAAEC,oBAAoB,EAAE;EAClF,OAAO,UAAUC,KAAK,EAAEC,SAAS,EAAE;IACjC,IAAIC,cAAc,GAAGH,oBAAoB,CAACG,cAAc;IAExD,IAAIF,KAAK,KAAKC,SAAS,EAAE;MACvB,OAAOR,WAAW;IACpB;IAEA,IAAID,OAAO,CAACQ,KAAK,CAAC,EAAE;MAClB,IAAIR,OAAO,CAACS,SAAS,CAAC,EAAE;QACtB,OAAOR,WAAW;MACpB,CAAC,CAAC;;MAGF,IAAIS,cAAc,EAAE;QAClB,OAAOL,SAAS,KAAK,KAAK,GAAGH,mBAAmB,GAAGC,kBAAkB;MACvE;MAEA,OAAOA,kBAAkB;IAC3B;IAEA,IAAIH,OAAO,CAACS,SAAS,CAAC,EAAE;MACtB;MACA,IAAIC,cAAc,EAAE;QAClB,OAAOL,SAAS,KAAK,KAAK,GAAGF,kBAAkB,GAAGD,mBAAmB;MACvE;MAEA,OAAOA,mBAAmB;IAC5B;IAEA,IAAIS,UAAU,GAAGL,UAAU,CAACK,UAAU;IACtC,IAAIC,SAAS,GAAGb,MAAM,CAACS,KAAK,EAAEG,UAAU,CAAC;IACzC,IAAIE,QAAQ,GAAGd,MAAM,CAACU,SAAS,EAAEE,UAAU,CAAC;IAE5C,IAAI,CAACC,SAAS,CAACE,OAAO,EAAE,EAAE;MACxB,OAAOX,kBAAkB;IAC3B;IAEA,IAAI,CAACU,QAAQ,CAACC,OAAO,EAAE,EAAE;MACvB,OAAOZ,mBAAmB;IAC5B;IAEA,IAAIW,QAAQ,CAACE,OAAO,CAACH,SAAS,CAAC,EAAE;MAC/B,OAAOP,SAAS,KAAK,KAAK,GAAGH,mBAAmB,GAAGC,kBAAkB;IACvE;IAEA,IAAIU,QAAQ,CAACG,QAAQ,CAACJ,SAAS,CAAC,EAAE;MAChC,OAAOP,SAAS,KAAK,KAAK,GAAGF,kBAAkB,GAAGD,mBAAmB;IACvE;IAEA,OAAOD,WAAW;EACpB,CAAC;AACH;AACA,OAAO,IAAIgB,gBAAgB,GAAG,MAAM"},"metadata":{},"sourceType":"module"}